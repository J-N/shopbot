# download the kernel
apt-get source linux-image-2.6.35-27-generic

# change the cdc-acm.c driver with the following modifications:
In cdc_acm.c 
disabling the bailout in acm_tty_open: 

 

>         if (0 > acm_set_control(acm, acm->ctrlout = ACM_CTRL_DTR | ACM_CTRL_RTS) && 
>            (acm->ctrl_caps & USB_CDC_CAP_LINE)) 
>                 goto full_bailout; 

and acm_set_control in acm_port_down:
> acm_set_control(acm, acm->ctrlout = 0); 

# build the kernel
cp -vi /boot/config-`uname -r` .config
make localmodconfig
make menuconfig
fakeroot make-kpkg --initrd --append-to-version=-my-costum-kernel kernel-image kernel-headers -j 3

# install the kernel
dpkg -i linux-image-2.6.35.13-my-costum-kernel_2.6.35.13-my-costum-kernel-10.00.Custom_i386.deb 
dpkg -i linux-headers-2.6.35.13-my-costum-kernel_2.6.35.13-my-costum-kernel-10.00.Custom_i386.deb

# references
https://help.ubuntu.com/community/Kernel/Compile
http://e2e.ti.com/support/low_power_rf/f/156/t/53610.aspx
