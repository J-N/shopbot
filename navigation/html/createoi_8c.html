<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Navigation: libcreateoi/src/createoi.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Navigation
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">libcreateoi/src/createoi.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Commands for controlling the Create.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;limits.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
<code>#include &lt;termios.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="createoi_8h_source.html">createoi.h</a>&quot;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsensor__cache__t.html">sensor_cache_t</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a><!-- doxytag: member="createoi.c::MAX" ref="afa99ec4acc4ecb2dc3c2d05da15d0e3f" args="(a, b)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX</b>(a, b)&#160;&#160;&#160;(a &gt; b? a : b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3acffbd305ee72dcd4593c0d8af64a4f"></a><!-- doxytag: member="createoi.c::MIN" ref="a3acffbd305ee72dcd4593c0d8af64a4f" args="(a, b)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN</b>(a, b)&#160;&#160;&#160;(a &lt; b? a : b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d70e9efaeba022b3c72fa3cb7acf734"></a><!-- doxytag: member="createoi.c::CYCLE_TIME" ref="a5d70e9efaeba022b3c72fa3cb7acf734" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CYCLE_TIME</b>&#160;&#160;&#160;120000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ee7772e42b293cc2d3ff932fa7990ff"></a><!-- doxytag: member="createoi.c::OVERCURRENT_WAIT" ref="a5ee7772e42b293cc2d3ff932fa7990ff" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OVERCURRENT_WAIT</b>&#160;&#160;&#160;.3</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a660467fca6440353d0f61779cd771b3a">cwrite</a> (int <a class="el" href="createoi_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, int numbytes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the Create.  <a href="#a660467fca6440353d0f61779cd771b3a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a88de933ce7338e230e149373e57b5197">cread</a> (int <a class="el" href="createoi_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, int numbytes)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the Create.  <a href="#a88de933ce7338e230e149373e57b5197"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a0801d95581439651382e07e6c3ddb240">stopWait</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the create should exit from waitAngle or waitDistance.  <a href="#a0801d95581439651382e07e6c3ddb240"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a74006ebb3ef6325c683389f811336790">sensorThreadFunc</a> (void *ptr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4437edd7fd2832790c13ba3179bcc64d"></a><!-- doxytag: member="createoi.c::getTime" ref="a4437edd7fd2832790c13ba3179bcc64d" args="()" -->
double&#160;</td><td class="memItemRight" valign="bottom"><b>getTime</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a1d76ab965b6f8836904f2b9ab7b2ef28">startOI</a> (const char *serial)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the OI.  <a href="#a1d76ab965b6f8836904f2b9ab7b2ef28"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#abb2aa2b9b8358b0375e39e19871500f0">startOI_MT</a> (const char *serial)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the OI in multi-threaded mode.  <a href="#abb2aa2b9b8358b0375e39e19871500f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a59548dd125df0d5e9ec05ae5d8f1ef66">setBaud</a> (<a class="el" href="createoi_8h.html#a92562946ff9f1a04b1b4be65d19a6124">oi_baud</a> rate)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the baud rate for serial port transfer.  <a href="#a59548dd125df0d5e9ec05ae5d8f1ef66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a44d3599a2c09b17efe268d8237dd464b">enterPassiveMode</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put Create into Passive Mode.  <a href="#a44d3599a2c09b17efe268d8237dd464b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a22f457bdba8557e2b1131d655adb25fc">enterSafeMode</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put Create into Safe Mode.  <a href="#a22f457bdba8557e2b1131d655adb25fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a3659ef14a6662586178c12b591b70be3">enterFullMode</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Put Create into Full Mode.  <a href="#a3659ef14a6662586178c12b591b70be3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a4b7430b55c775552c98dc6928768ac66">runDemo</a> (<a class="el" href="createoi_8h.html#aced6d4b690e3f859331d0fdbcae06a38">oi_demo</a> demo)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a built-in demo.  <a href="#a4b7430b55c775552c98dc6928768ac66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a63c48a75f21301ec9901883d255f95e1">runCoverDemo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the Cover demo.  <a href="#a63c48a75f21301ec9901883d255f95e1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a756f914174bcbb7a480f33d232ccf6e2">runCoverAndDockDemo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the Cover and Dock demo.  <a href="#a756f914174bcbb7a480f33d232ccf6e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ab3d15a8d09c6146d0cb149bc1dad16fd">runSpotDemo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the Spot demo.  <a href="#ab3d15a8d09c6146d0cb149bc1dad16fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ab7efed02bbf07d36793c779ef6112713">drive</a> (short vel, short rad)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Drive the robot with a given velocity and turning radius.  <a href="#ab7efed02bbf07d36793c779ef6112713"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a5a63134c125eb4de834987a0937afd74">directDrive</a> (short Lwheel, short Rwheel)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Control the Create's wheels directly.  <a href="#a5a63134c125eb4de834987a0937afd74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#af0f319790c94ad5cfc97cceebef816d9">driveDistance</a> (short vel, short rad, int dist, int interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Drive for the specified distance.  <a href="#af0f319790c94ad5cfc97cceebef816d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#af214bbce5f242d39cfb77183a4ef77b7">turn</a> (short vel, short rad, int angle, int interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn for the specified angle.  <a href="#af214bbce5f242d39cfb77183a4ef77b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a8e0f43a94aa6be31df25b4329f0ba9c9">setLEDState</a> (<a class="el" href="createoi_8h.html#aef628b258fdb657fd1f4987d7687710a">oi_led</a> lflags, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> pColor, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> pInten)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the state of the LEDs on the Create.  <a href="#a8e0f43a94aa6be31df25b4329f0ba9c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ac8824a7cafb14ebd97b3460547ede517">setDigitalOuts</a> (<a class="el" href="createoi_8h.html#a542610db377b4ad0a7bdaae4dd50f083">oi_output</a> oflags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets state of digital ouputs.  <a href="#ac8824a7cafb14ebd97b3460547ede517"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ab081994be838b23c19cd28e0149e6153">setPWMLowSideDrivers</a> (<a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> pwm0, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> pwm1, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> pwm2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Control low side drivers with variable power.  <a href="#ab081994be838b23c19cd28e0149e6153"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a3f548b8bdef98c7e4abeaebb899d4bcc">setLowSideDrivers</a> (<a class="el" href="createoi_8h.html#a542610db377b4ad0a7bdaae4dd50f083">oi_output</a> oflags)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Control state of low side drivers.  <a href="#a3f548b8bdef98c7e4abeaebb899d4bcc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a835de410a1d4d22a239dc90a0bded55e">sendIRbyte</a> (<a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> irbyte)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends IR signal.  <a href="#a835de410a1d4d22a239dc90a0bded55e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a0ad7a276b77f802e2a024d3146de2e20">writeSong</a> (<a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> number, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> length, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *song)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and store a small song.  <a href="#a0ad7a276b77f802e2a024d3146de2e20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a88022912dca7ec708d8fbe22adc2e874">playSong</a> (<a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> number)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Play a stored song.  <a href="#a88022912dca7ec708d8fbe22adc2e874"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a762208d3b0de0124f59761eb8b063866">readRawSensor</a> (<a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a> packet, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buffer, int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get raw data from sensor.  <a href="#a762208d3b0de0124f59761eb8b063866"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a9d8501ffc64d0d6114a340f5e271da95">readSensor</a> (<a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a> packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read formatted data from single sensor.  <a href="#a9d8501ffc64d0d6114a340f5e271da95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a372867c1e1c4f6de8aa58acb474175e9">getCharge</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current battery charge.  <a href="#a372867c1e1c4f6de8aa58acb474175e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#abbfc5136e07563b242069f2c368b0365">getDistance</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current distance.  <a href="#abbfc5136e07563b242069f2c368b0365"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ae71094a2b50726fbec9d9475b2c92e01">getAngle</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current angle.  <a href="#ae71094a2b50726fbec9d9475b2c92e01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a796071782f68917c3b86eab3237caf8f">getVelocity</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current velocity.  <a href="#a796071782f68917c3b86eab3237caf8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a019948291c8e134564407c2b1b3911e5">getTurningRadius</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current turning radius.  <a href="#a019948291c8e134564407c2b1b3911e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#adf0b64fce485fba51e96ec5a779ba1b4">getOvercurrent</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get overcurrent reading.  <a href="#adf0b64fce485fba51e96ec5a779ba1b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a94b9f8e3734b5e9fa2723c314d6c5b39">getBumpsAndWheelDrops</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get bumper and wheel drop state.  <a href="#a94b9f8e3734b5e9fa2723c314d6c5b39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ab94e7fb699e1b8522599ff259c24b53e">getCliffs</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get state of cliff sensors.  <a href="#ab94e7fb699e1b8522599ff259c24b53e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a5975f37a6c0cae9c2e9dd0b76aa3cf03">getAllSensors</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data from all sensors.  <a href="#a5975f37a6c0cae9c2e9dd0b76aa3cf03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a3c26db92dc13e2889c4f1fa77641aee0">readRawSensorList</a> (<a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a> *packet_list, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> num_packets, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buffer, int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get raw data from multiple sensors.  <a href="#a3c26db92dc13e2889c4f1fa77641aee0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a7de38bb3d1ad4371f085b4bfb55550c4">writeScript</a> (<a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *script, <a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send script to Create.  <a href="#a7de38bb3d1ad4371f085b4bfb55550c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ac5afe6b488d0d9ccf8d7d2551ebd3213">playScript</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Plays currently stored script.  <a href="#ac5afe6b488d0d9ccf8d7d2551ebd3213"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#aa92fc3abcb34387dccea5bf16b5ba7b2">getScript</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get script from Create.  <a href="#aa92fc3abcb34387dccea5bf16b5ba7b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a7ce81cef031fe7559261a49fd9967621">waitTime</a> (double time)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for the given amount of time.  <a href="#a7ce81cef031fe7559261a49fd9967621"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#abc9a1b2c08a2a92a0898bcdcc1e35390">waitDistance</a> (int dist, int interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for Create to travel given distance.  <a href="#abc9a1b2c08a2a92a0898bcdcc1e35390"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a60c183552af694d27fe7208b69125582">waitAngle</a> (int angle, int interrupt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits for Create to turn given angle.  <a href="#a60c183552af694d27fe7208b69125582"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#aa4ca13d7ed7c5dea4923fa31d5f5e118">stopOI</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the Create and closes connection to it.  <a href="#aa4ca13d7ed7c5dea4923fa31d5f5e118"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a257e46e91460ce76c302c6bbb0327948">stopOI_MT</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the Create and closes connection to it.  <a href="#a257e46e91460ce76c302c6bbb0327948"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a501b23017e83659e29d56b0eed3b23ef">enableDebug</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables Debug Mode.  <a href="#a501b23017e83659e29d56b0eed3b23ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a550c7c97dc5c6cdb86430ba869d2d2d3">disableDebug</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables Debug Mode.  <a href="#a550c7c97dc5c6cdb86430ba869d2d2d3"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f8059414f0228f0256115e024eeed4b"></a><!-- doxytag: member="createoi.c::fd" ref="a6f8059414f0228f0256115e024eeed4b" args="" -->
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a6f8059414f0228f0256115e024eeed4b">fd</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">file descriptor for serial port <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3e1795766a80ec63b157951b4b9a7d4"></a><!-- doxytag: member="createoi.c::debug" ref="ac3e1795766a80ec63b157951b4b9a7d4" args="" -->
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ac3e1795766a80ec63b157951b4b9a7d4">debug</a> = 0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">debug mode status <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa652ffe15dcce2f71aa33a9949c75428"></a><!-- doxytag: member="createoi.c::THREAD_MODE" ref="aa652ffe15dcce2f71aa33a9949c75428" args="" -->
static int&#160;</td><td class="memItemRight" valign="bottom"><b>THREAD_MODE</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa613f0b0abc58425af9540c810399754"></a><!-- doxytag: member="createoi.c::sensor_cache_mutex" ref="aa613f0b0abc58425af9540c810399754" args="" -->
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#aa613f0b0abc58425af9540c810399754">sensor_cache_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">multi-thread mode status. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3e1234f9cce7477ff82f624963bb7cd"></a><!-- doxytag: member="createoi.c::create_mutex" ref="ab3e1234f9cce7477ff82f624963bb7cd" args="" -->
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#ab3e1234f9cce7477ff82f624963bb7cd">create_mutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">locks sensor cache struct <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ceeec66c5e3ab5efc97b82eb742bd36"></a><!-- doxytag: member="createoi.c::sensor_thread" ref="a2ceeec66c5e3ab5efc97b82eb742bd36" args="" -->
pthread_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="createoi_8c.html#a2ceeec66c5e3ab5efc97b82eb742bd36">sensor_thread</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">locks i/o for create <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d238c7df7a8256e9b3e1437e94c621e"></a><!-- doxytag: member="createoi.c::sensor_cache" ref="a0d238c7df7a8256e9b3e1437e94c621e" args="" -->
<a class="el" href="structsensor__cache__t.html">sensor_cache_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>sensor_cache</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Commands for controlling the Create. </p>
<p>Contains definitions for all the functions available in COIL. Many functions are direct implementations of Open Interface commands (making this a wrapper). However, others are provided as additional functionality that is not available in the OI, provided as a convience to the user. It is best to read the accompaning documentation for usage info.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Jesse DeGuire, Nathan Sprague</dd></dl>
<p>This file is part of COIL.</p>
<p>COIL is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>COIL is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with COIL. If not, see &lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
<p>Versions: 1.0 12 Jan 2008 Initial public release 1.1 04 Aug 2008 Added multi-threaded mode. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a88de933ce7338e230e149373e57b5197"></a><!-- doxytag: member="createoi.c::cread" ref="a88de933ce7338e230e149373e57b5197" args="(int fd, byte *buf, int numbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="createoi_8c.html#a88de933ce7338e230e149373e57b5197">cread</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from the Create. </p>
<p>Reads data from the Create's serial port. This function will continue reading from the port until the specified number of bytes has been read or until it reads nothing 3 times in a row (this can happen if you tell the function to read more data than the Create has available). If this limit is reached, the buffer will contain what was read up to that point and the function will return the number of bytes read up to that point. Use this instead of the OS-specific read function when reading from the Create.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor for serial port </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to read the data into </td></tr>
    <tr><td class="paramname">numbytes</td><td>The number of bytes to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read from the serial port or -1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="a660467fca6440353d0f61779cd771b3a"></a><!-- doxytag: member="createoi.c::cwrite" ref="a660467fca6440353d0f61779cd771b3a" args="(int fd, byte *buf, int numbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="createoi_8c.html#a660467fca6440353d0f61779cd771b3a">cwrite</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data to the Create. </p>
<p>Writes data to the Create's serial port. This function will continue to attempt writing to the serial port until the specified number of bytes has been written or until nothing is written 3 times in a row. At that point, the function will return the number of bytes written so far. Use this function to write to the Create instead of OS-specific functions.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor for the serial port </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer to write from </td></tr>
    <tr><td class="paramname">numbytes</td><td>The number of bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes written to the port or -1 on error </dd></dl>

</div>
</div>
<a class="anchor" id="a5a63134c125eb4de834987a0937afd74"></a><!-- doxytag: member="createoi.c::directDrive" ref="a5a63134c125eb4de834987a0937afd74" args="(short Lwheel, short Rwheel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a5a63134c125eb4de834987a0937afd74">directDrive</a> </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>Lwheel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>Rwheel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Control the Create's wheels directly. </p>
<p>Allows you to control the velocity of each wheel independently, ranging from -500 to 500mm/s. A positive velocity makes the wheel drive forward and a negative velocity makes it drive backward.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">Lwheel</td><td>The velocity of the left wheel </td></tr>
    <tr><td class="paramname">Rwheel</td><td>The velocity of the right wheel</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a550c7c97dc5c6cdb86430ba869d2d2d3"></a><!-- doxytag: member="createoi.c::disableDebug" ref="a550c7c97dc5c6cdb86430ba869d2d2d3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="createoi_8h.html#a550c7c97dc5c6cdb86430ba869d2d2d3">disableDebug</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disables Debug Mode. </p>
<p>Turns off Debug Mode, so that serial transfers will no longer be printed to the console window. </p>

</div>
</div>
<a class="anchor" id="ab7efed02bbf07d36793c779ef6112713"></a><!-- doxytag: member="createoi.c::drive" ref="ab7efed02bbf07d36793c779ef6112713" args="(short vel, short rad)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ab7efed02bbf07d36793c779ef6112713">drive</a> </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>rad</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drive the robot with a given velocity and turning radius. </p>
<p>Drives the Create with the given velocity (mm/s) and turning radius (mm). The velocity ranges from -500 to 500mm/s, with negative velocities making the Create drive backward. The radius ranges from -2000 to 2000mm, with positive radii turning the Create left and negative radii turning it right.</p>
<p>A radius of -1 makes the Create turn in place clockwise and 1 makes it turn in place counter-clockwise. Also, a radius of 0 will make the Create drive straight.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vel</td><td>The velocity, in mm/s, of the robot </td></tr>
    <tr><td class="paramname">rad</td><td>The turning radius, in mm, from the center of the turning circle to the center of the Create.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="af0f319790c94ad5cfc97cceebef816d9"></a><!-- doxytag: member="createoi.c::driveDistance" ref="af0f319790c94ad5cfc97cceebef816d9" args="(short vel, short rad, int dist, int interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#af0f319790c94ad5cfc97cceebef816d9">driveDistance</a> </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>rad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Drive for the specified distance. </p>
<p>Moves the Create at the specified velocity and turning radius until the specified distance is reached, at which point it will stop. Velocity ranges from -500mm/s to 500mm/s (negative values move backward) and turning radius ranges from -2000mm to 2000mm (negative values turn right; positive values turn left).</p>
<p>A radius of -1 will spin the Create in place clockwise and a radius of 1 will spin it counter-clockwise. A radius of 0 will drive straight.</p>
<p>The distance sensor on the Create will be reset to 0 after using this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vel</td><td>desired velocity in mm/s </td></tr>
    <tr><td class="paramname">rad</td><td>desired turning radius in mm</td></tr>
    <tr><td class="paramname">dist</td><td>distance the Create should travel before stopping in mm</td></tr>
    <tr><td class="paramname">interrupt</td><td>0 if the movement should be non-interruptible: ignore collisions 1 if the movement should be interruptible: terminate on collision</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Distance travelled or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a501b23017e83659e29d56b0eed3b23ef"></a><!-- doxytag: member="createoi.c::enableDebug" ref="a501b23017e83659e29d56b0eed3b23ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="createoi_8h.html#a501b23017e83659e29d56b0eed3b23ef">enableDebug</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables Debug Mode. </p>
<p>Turns on Debug Mode, which will print serial transfers to the console window. Serial reads and writes will be printed in byte-aligned format, in the order they will be sent to the serial port. </p>

</div>
</div>
<a class="anchor" id="a3659ef14a6662586178c12b591b70be3"></a><!-- doxytag: member="createoi.c::enterFullMode" ref="a3659ef14a6662586178c12b591b70be3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a3659ef14a6662586178c12b591b70be3">enterFullMode</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put Create into Full Mode. </p>
<p>The puts the Create into Full Mode, allowing complete control over the Create. The Create will turn off all safety features in this mode, giving you control over the Create's actions should any of the wheel drop or cliff sensor activate. Be warned, however, that this also means that nothing will stop the Create from driving off a cliff.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a44d3599a2c09b17efe268d8237dd464b"></a><!-- doxytag: member="createoi.c::enterPassiveMode" ref="a44d3599a2c09b17efe268d8237dd464b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8c.html#a44d3599a2c09b17efe268d8237dd464b">enterPassiveMode</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put Create into Passive Mode. </p>
<p>This puts the Create into Passive Mode. This mode allows reading sensor data, running demos, and changing mode. All other commands are ignored.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a22f457bdba8557e2b1131d655adb25fc"></a><!-- doxytag: member="createoi.c::enterSafeMode" ref="a22f457bdba8557e2b1131d655adb25fc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a22f457bdba8557e2b1131d655adb25fc">enterSafeMode</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Put Create into Safe Mode. </p>
<p>This puts the Create into Safe Mode, allowing control over the Create. The Create will stop and revert to Passive Mode if any of the cliff or wheel drop sensors are activated or if the charger is plugged in and powered.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a5975f37a6c0cae9c2e9dd0b76aa3cf03"></a><!-- doxytag: member="createoi.c::getAllSensors" ref="a5975f37a6c0cae9c2e9dd0b76aa3cf03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* <a class="el" href="createoi_8h.html#a5975f37a6c0cae9c2e9dd0b76aa3cf03">getAllSensors</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get data from all sensors. </p>
<p>Returns a pointer to the data from all sensors in the Create. Sensors are in the order given in the CreateOI specification, starting with Bumps and Wheel Drops.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to array of sensor data or a NULL pointer on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ae71094a2b50726fbec9d9475b2c92e01"></a><!-- doxytag: member="createoi.c::getAngle" ref="ae71094a2b50726fbec9d9475b2c92e01" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ae71094a2b50726fbec9d9475b2c92e01">getAngle</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current angle. </p>
<p>Returns the angle the Create has turned since the last time this function was called or the last time the angle sensor was polled.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Angle Create turned since last reading or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a94b9f8e3734b5e9fa2723c314d6c5b39"></a><!-- doxytag: member="createoi.c::getBumpsAndWheelDrops" ref="a94b9f8e3734b5e9fa2723c314d6c5b39" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a94b9f8e3734b5e9fa2723c314d6c5b39">getBumpsAndWheelDrops</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get bumper and wheel drop state. </p>
<p>Returns the current state of the bumper and wheel drop sensors. The state of each is sent as a single bit. For example, a return value of 16 means that only the front caster's wheeldrop sensor is activated. A return value of 3 means that both bumper sensors are active.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Current state of bumper and wheel drops or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a372867c1e1c4f6de8aa58acb474175e9"></a><!-- doxytag: member="createoi.c::getCharge" ref="a372867c1e1c4f6de8aa58acb474175e9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8c.html#a372867c1e1c4f6de8aa58acb474175e9">getCharge</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current battery charge. </p>
<p>Get the percentage charge for the create's battery.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>battery charge level 0-100. INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="ab94e7fb699e1b8522599ff259c24b53e"></a><!-- doxytag: member="createoi.c::getCliffs" ref="ab94e7fb699e1b8522599ff259c24b53e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ab94e7fb699e1b8522599ff259c24b53e">getCliffs</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get state of cliff sensors. </p>
<p>Returns the current states of the four cliff sensors under the Create's bumper. Each sensor's state is returned as a single bit. For example, a return value of 8 means the left cliff sensor is activated.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Current state of cliff sensors or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="abbfc5136e07563b242069f2c368b0365"></a><!-- doxytag: member="createoi.c::getDistance" ref="abbfc5136e07563b242069f2c368b0365" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#abbfc5136e07563b242069f2c368b0365">getDistance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current distance. </p>
<p>Returns the distance the Create has travelled since the last time this function was called or the last time the distance sensor was polled.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Distance Create travelled since last reading or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="adf0b64fce485fba51e96ec5a779ba1b4"></a><!-- doxytag: member="createoi.c::getOvercurrent" ref="adf0b64fce485fba51e96ec5a779ba1b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#adf0b64fce485fba51e96ec5a779ba1b4">getOvercurrent</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get overcurrent reading. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value of overcurrent sensor </dd></dl>

</div>
</div>
<a class="anchor" id="aa92fc3abcb34387dccea5bf16b5ba7b2"></a><!-- doxytag: member="createoi.c::getScript" ref="aa92fc3abcb34387dccea5bf16b5ba7b2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* <a class="el" href="createoi_8h.html#aa92fc3abcb34387dccea5bf16b5ba7b2">getScript</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get script from Create. </p>
<p>Gets the currently stored script from the Create and returns a pointer to it. The first data byte returned is the number of bytes in the script, followed by the script itself.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to script or NULL on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a019948291c8e134564407c2b1b3911e5"></a><!-- doxytag: member="createoi.c::getTurningRadius" ref="a019948291c8e134564407c2b1b3911e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a019948291c8e134564407c2b1b3911e5">getTurningRadius</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current turning radius. </p>
<p>Returns the Create's current turning radius. The read value may differ from the actual value slightly due to sensor inaccuracy and wheel slippage.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Create's currently requested turning radius or INT_MIN on error. </dd></dl>

</div>
</div>
<a class="anchor" id="a796071782f68917c3b86eab3237caf8f"></a><!-- doxytag: member="createoi.c::getVelocity" ref="a796071782f68917c3b86eab3237caf8f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a796071782f68917c3b86eab3237caf8f">getVelocity</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current velocity. </p>
<p>Returns the Create's current velocity. Note that read velocity may be different from actual velocity due to sensor inaccuracy and wheel slippage.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Create's currently requested velocity or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="ac5afe6b488d0d9ccf8d7d2551ebd3213"></a><!-- doxytag: member="createoi.c::playScript" ref="ac5afe6b488d0d9ccf8d7d2551ebd3213" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ac5afe6b488d0d9ccf8d7d2551ebd3213">playScript</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Plays currently stored script. </p>
<p>Loads the script that was written to the Create's internal memory and runs it. The script remains in memory after it has run, allowing you to play it multiple times.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a88022912dca7ec708d8fbe22adc2e874"></a><!-- doxytag: member="createoi.c::playSong" ref="a88022912dca7ec708d8fbe22adc2e874" args="(byte number)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a88022912dca7ec708d8fbe22adc2e874">playSong</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>number</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Play a stored song. </p>
<p>Retrieves a stored song from memory and plays it. This command will not do anything if a song is already playing. Check the "song playing" sensor packet to check if the Create is ready to play a song. This command will return 0 as long as the command was able to be sent to the Create over the serial port, regardless of whether or not the Create is ready to play the song.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>The song number to play (0-15)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a762208d3b0de0124f59761eb8b063866"></a><!-- doxytag: member="createoi.c::readRawSensor" ref="a762208d3b0de0124f59761eb8b063866" args="(oi_sensor packet, byte *buffer, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a762208d3b0de0124f59761eb8b063866">readRawSensor</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a>&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get raw data from sensor. </p>
<p>Requests the OI to return a packet of sensor data. There are 42 different packets, each of which returns a value of a specific sensor or group of sensors. Different sensors have different packet sizes, so it is up to you to make sure you are requesting the correct size and that your buffer is large enough to accept the packets.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet</td><td>Sensor packet to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Buffer to read raw packets into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Number of bytes to read into buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes read or -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3c26db92dc13e2889c4f1fa77641aee0"></a><!-- doxytag: member="createoi.c::readRawSensorList" ref="a3c26db92dc13e2889c4f1fa77641aee0" args="(oi_sensor *packet_list, byte num_packets, byte *buffer, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a3c26db92dc13e2889c4f1fa77641aee0">readRawSensorList</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a> *&#160;</td>
          <td class="paramname"><em>packet_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>num_packets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get raw data from multiple sensors. </p>
<p>Requests the OI to return multiple sensor data packets. The packets are returned in the order you specify. It is up to you to make sure you are reading the correct number of bytes from the Create.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">packet_list</td><td>List of sensor packets to return </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_packets</td><td>Number of packets to get </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Buffer to read data into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Number of bytes to read into buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes read or -1 on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a9d8501ffc64d0d6114a340f5e271da95"></a><!-- doxytag: member="createoi.c::readSensor" ref="a9d8501ffc64d0d6114a340f5e271da95" args="(oi_sensor packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a9d8501ffc64d0d6114a340f5e271da95">readSensor</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a7dc2d40666678e74fb1ededa34da4597">oi_sensor</a>&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read formatted data from single sensor. </p>
<p>Returns data from the specified sensor in a user-readable format. This function will not work for sensor groups, only single sensors. Parameter can be one of oi_sensor values.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor</td><td>The sensor to get data from</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value read from specified sensor or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a756f914174bcbb7a480f33d232ccf6e2"></a><!-- doxytag: member="createoi.c::runCoverAndDockDemo" ref="a756f914174bcbb7a480f33d232ccf6e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a756f914174bcbb7a480f33d232ccf6e2">runCoverAndDockDemo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the Cover and Dock demo. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a63c48a75f21301ec9901883d255f95e1"></a><!-- doxytag: member="createoi.c::runCoverDemo" ref="a63c48a75f21301ec9901883d255f95e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a63c48a75f21301ec9901883d255f95e1">runCoverDemo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the Cover demo. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a4b7430b55c775552c98dc6928768ac66"></a><!-- doxytag: member="createoi.c::runDemo" ref="a4b7430b55c775552c98dc6928768ac66" args="(oi_demo demo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a4b7430b55c775552c98dc6928768ac66">runDemo</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#aced6d4b690e3f859331d0fdbcae06a38">oi_demo</a>&#160;</td>
          <td class="paramname"><em>demo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run a built-in demo. </p>
<p>This starts one of the Create's built-in demo routines. Information about the demos is available in the iRobot Create instruction manual. This will put the Create into Passive Mode.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">demo</td><td>The value of the demo to run (or 255 to stop the current demo).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ab3d15a8d09c6146d0cb149bc1dad16fd"></a><!-- doxytag: member="createoi.c::runSpotDemo" ref="ab3d15a8d09c6146d0cb149bc1dad16fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ab3d15a8d09c6146d0cb149bc1dad16fd">runSpotDemo</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Run the Spot demo. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a835de410a1d4d22a239dc90a0bded55e"></a><!-- doxytag: member="createoi.c::sendIRbyte" ref="a835de410a1d4d22a239dc90a0bded55e" args="(byte irbyte)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a835de410a1d4d22a239dc90a0bded55e">sendIRbyte</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>irbyte</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends IR signal. </p>
<p>Sends the given IR byte out of low side driver 1, using the format expected by the Create's IR receiver. The Create documentation suggests using a 100ohm resistor in parallel with the IR receiver and its resistor.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">irbyte</td><td>The byte value to send</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successfull or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a74006ebb3ef6325c683389f811336790"></a><!-- doxytag: member="createoi.c::sensorThreadFunc" ref="a74006ebb3ef6325c683389f811336790" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * <a class="el" href="createoi_8c.html#a74006ebb3ef6325c683389f811336790">sensorThreadFunc</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Thread responsible for handling sensor loop in multi-threaded mode. </p>

</div>
</div>
<a class="anchor" id="a59548dd125df0d5e9ec05ae5d8f1ef66"></a><!-- doxytag: member="createoi.c::setBaud" ref="a59548dd125df0d5e9ec05ae5d8f1ef66" args="(oi_baud rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a59548dd125df0d5e9ec05ae5d8f1ef66">setBaud</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a92562946ff9f1a04b1b4be65d19a6124">oi_baud</a>&#160;</td>
          <td class="paramname"><em>rate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the baud rate for serial port transfer. </p>
<p>This command sets the baud rate between the Create and computer. This persists until either this command is called again or until the Create loses power. This command will wait for 100ms after setting the baud rate to prevent data loss (this is in compliance with the OI specification). The default baud rate is 56kbps. <b>Note: At a baud rate of 115200, there must be a 20us gap between each byte or else data loss will occur.</b></p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rate</td><td>New baud rate value</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ac8824a7cafb14ebd97b3460547ede517"></a><!-- doxytag: member="createoi.c::setDigitalOuts" ref="ac8824a7cafb14ebd97b3460547ede517" args="(oi_output oflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ac8824a7cafb14ebd97b3460547ede517">setDigitalOuts</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a542610db377b4ad0a7bdaae4dd50f083">oi_output</a>&#160;</td>
          <td class="paramname"><em>oflags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets state of digital ouputs. </p>
<p>Controls the state of the 3 digital outputs in the Cargo Bay Connector. Each output is able to provide up to 20mA of current. The state is set using bit flags, with 1 being high (5V) and 0 being low (0V).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">oflags</td><td>Output flags for setting the state of the 3 outputs</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a8e0f43a94aa6be31df25b4329f0ba9c9"></a><!-- doxytag: member="createoi.c::setLEDState" ref="a8e0f43a94aa6be31df25b4329f0ba9c9" args="(oi_led lflags, byte pColor, byte pInten)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a8e0f43a94aa6be31df25b4329f0ba9c9">setLEDState</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#aef628b258fdb657fd1f4987d7687710a">oi_led</a>&#160;</td>
          <td class="paramname"><em>lflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>pColor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>pInten</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Controls the state of the LEDs on the Create. </p>
<p>Allows you the control the state of the three LEDs on the top of the Create. The Play and Advance LEDs can be on or off and are controlled by setting bit flags. The Power LED is set with two bytes: one for the color and the other for the light's intensity. The color ranges from green (0) to red (255).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">lflags</td><td>LED flags for setting the Play and Advance LEDs </td></tr>
    <tr><td class="paramname">pColor</td><td>Sets color for the Power LED </td></tr>
    <tr><td class="paramname">pInten</td><td>Intensity of the Power LED</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a3f548b8bdef98c7e4abeaebb899d4bcc"></a><!-- doxytag: member="createoi.c::setLowSideDrivers" ref="a3f548b8bdef98c7e4abeaebb899d4bcc" args="(oi_output oflags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a3f548b8bdef98c7e4abeaebb899d4bcc">setLowSideDrivers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a542610db377b4ad0a7bdaae4dd50f083">oi_output</a>&#160;</td>
          <td class="paramname"><em>oflags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Control state of low side drivers. </p>
<p>Controls the state of each of the low side drivers using bit flags. This command turns the drivers on at 100% PWM duty cycle. Low side drivers 0 and 1 can provide up to 0.5A of current while driver 2 can provide up to 1.5A. If too much current is drawn, the current will be limited and the overcurrent flag in sensor packet 14 (overcurrent packet) is set.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">oflags</td><td>Output flags for setting the state of the 3 drivers</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ab081994be838b23c19cd28e0149e6153"></a><!-- doxytag: member="createoi.c::setPWMLowSideDrivers" ref="ab081994be838b23c19cd28e0149e6153" args="(byte pwm0, byte pwm1, byte pwm2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#ab081994be838b23c19cd28e0149e6153">setPWMLowSideDrivers</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>pwm0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>pwm1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>pwm2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Control low side drivers with variable power. </p>
<p>Specifies the PWM (pulse width modulation) duty cycle for each of the three low side drivers in the system, with a maximum value of 128. For example, sending a value of 64 would control a driver with 50% of battery voltage since 128/64 = .5.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pwm0</td><td>duty cycle for driver 0 </td></tr>
    <tr><td class="paramname">pwm1</td><td>duty cycle for driver 1 </td></tr>
    <tr><td class="paramname">pwm2</td><td>duty cycle for driver 2</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a1d76ab965b6f8836904f2b9ab7b2ef28"></a><!-- doxytag: member="createoi.c::startOI" ref="a1d76ab965b6f8836904f2b9ab7b2ef28" args="(const char *serial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a1d76ab965b6f8836904f2b9ab7b2ef28">startOI</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the OI. </p>
<p>This command opens the serial connection and starts the Open Interface. The Create will be started in Passive Mode. You must send this command first before any others.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">serial</td><td>The location of the serial port device file</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="abb2aa2b9b8358b0375e39e19871500f0"></a><!-- doxytag: member="createoi.c::startOI_MT" ref="abb2aa2b9b8358b0375e39e19871500f0" args="(const char *serial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#abb2aa2b9b8358b0375e39e19871500f0">startOI_MT</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the OI in multi-threaded mode. </p>
<p>This command starts the interface in multithreaded mode. In this mode, a dedicated thread reads all sensor values periodically and caches the values. Subsequent calls to get* sensor commands will read from the cache instead of querying the create.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">serial</td><td>The location of the serial port device file</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="aa4ca13d7ed7c5dea4923fa31d5f5e118"></a><!-- doxytag: member="createoi.c::stopOI" ref="aa4ca13d7ed7c5dea4923fa31d5f5e118" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#aa4ca13d7ed7c5dea4923fa31d5f5e118">stopOI</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the Create and closes connection to it. </p>
<p>Stops the Create and closes the serial connection to it. The connection can be restarted by calling the startOI command.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a257e46e91460ce76c302c6bbb0327948"></a><!-- doxytag: member="createoi.c::stopOI_MT" ref="a257e46e91460ce76c302c6bbb0327948" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a257e46e91460ce76c302c6bbb0327948">stopOI_MT</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stops the Create and closes connection to it. </p>
<p>Stops the Create and closes the serial connection to it. The connection can be restarted by calling the startOI command.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a0801d95581439651382e07e6c3ddb240"></a><!-- doxytag: member="createoi.c::stopWait" ref="a0801d95581439651382e07e6c3ddb240" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int <a class="el" href="createoi_8c.html#a0801d95581439651382e07e6c3ddb240">stopWait</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines whether the create should exit from waitAngle or waitDistance. </p>
<p>The purpose of this function is to determine whether the create is making satisfactory and safe progress toward whatever goal it is waiting to acheive. Currently it checks bumper sensors, wheel drops, cliffs, and overcurrent sensors.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>not 0 if Create should stop waiting, 0 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="af214bbce5f242d39cfb77183a4ef77b7"></a><!-- doxytag: member="createoi.c::turn" ref="af214bbce5f242d39cfb77183a4ef77b7" args="(short vel, short rad, int angle, int interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#af214bbce5f242d39cfb77183a4ef77b7">turn</a> </td>
          <td>(</td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>vel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">short&#160;</td>
          <td class="paramname"><em>rad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn for the specified angle. </p>
<p>Moves the Create at the specified velocity and turning radius until the specified angle is reached, at which point it will stop. Velocity ranges from -500mm/s to 500mm/s (negative values move backward) and turning radius ranges from -2000mm to 2000mm (negative values turn right; positive values turn left).</p>
<p>A radius of -1 will spin the Create in place clockwise and a radius of 1 will spin it counter-clockwise. A radius of 0 will drive straight.</p>
<p>The angle sensor on the Create will be reset to 0 after using this function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">vel</td><td>desired velocity in mm/s </td></tr>
    <tr><td class="paramname">rad</td><td>desired turning radius in mm </td></tr>
    <tr><td class="paramname">angle</td><td>distance the Create should travel before stopping in mm </td></tr>
    <tr><td class="paramname">interrupt</td><td>0 if the movement should be non-interruptible: ignore collisions 1 if the movement should be interruptible: terminate on collision</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Angle turned or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a60c183552af694d27fe7208b69125582"></a><!-- doxytag: member="createoi.c::waitAngle" ref="a60c183552af694d27fe7208b69125582" args="(int angle, int interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a60c183552af694d27fe7208b69125582">waitAngle</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Waits for Create to turn given angle. </p>
<p>Waits for Create to turn the given angle (in degrees). The angle is incremented when the Create turns counterclockwise and decremented when turning clockwise. The angle sensor will be reset after using this function.</p>
<p>The angle turned is updated once per 20ms or 50 times per second.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">angle</td><td>Angle to travel in degrees. </td></tr>
    <tr><td class="paramname">interrupt</td><td>0 if the waiting should be non-interruptible: ignore collisions 1 if the waiting should be interruptible: terminate on collision</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Angle turned or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="abc9a1b2c08a2a92a0898bcdcc1e35390"></a><!-- doxytag: member="createoi.c::waitDistance" ref="abc9a1b2c08a2a92a0898bcdcc1e35390" args="(int dist, int interrupt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#abc9a1b2c08a2a92a0898bcdcc1e35390">waitDistance</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Waits for Create to travel given distance. </p>
<p>Waits for Create to travel the given distance (in millimeters). The distance is incremented * when the Create travels forward and decremented when moving backward. If the wheels are * passively rotated in either direction, the distance is incremented. The distance sensor * will be reset after using this function.</p>
<p>The distance travelled is updated once per 20ms or 50 times per second.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dist</td><td>Distance to travel in millimeters </td></tr>
    <tr><td class="paramname">interrupt</td><td>0 if the waiting should be non-interruptible: ignore collisions 1 if the waiting should be interruptible: terminate on collision</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Distance travelled or INT_MIN on error </dd></dl>

</div>
</div>
<a class="anchor" id="a7ce81cef031fe7559261a49fd9967621"></a><!-- doxytag: member="createoi.c::waitTime" ref="a7ce81cef031fe7559261a49fd9967621" args="(double time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="createoi_8h.html#a7ce81cef031fe7559261a49fd9967621">waitTime</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Waits for the given amount of time. </p>
<p>Waits the given amount of time, in seconds. This timer has a resolution of 1 microsecond, or 1e-6 seconds; however, there is no guarantee of the accuracy of this function. It will probably be a little off and it is possible for an external signal to wake up your program's thread prematurely. The function returns the time you told it to wait as a means of informing you it has woken.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>Time in seconds to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The time passed in as a parameter </dd></dl>

</div>
</div>
<a class="anchor" id="a7de38bb3d1ad4371f085b4bfb55550c4"></a><!-- doxytag: member="createoi.c::writeScript" ref="a7de38bb3d1ad4371f085b4bfb55550c4" args="(byte *script, byte size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a7de38bb3d1ad4371f085b4bfb55550c4">writeScript</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send script to Create. </p>
<p>Sends a script, consisting of opcodes and data bytes, to the Create's internal memory. A script can be up to 100 bytes long.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">script</td><td>Script to send to Create </td></tr>
    <tr><td class="paramname">size</td><td>Size, in bytes, of the script</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a0ad7a276b77f802e2a024d3146de2e20"></a><!-- doxytag: member="createoi.c::writeSong" ref="a0ad7a276b77f802e2a024d3146de2e20" args="(byte number, byte length, byte *song)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="createoi_8h.html#a0ad7a276b77f802e2a024d3146de2e20">writeSong</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="createoi_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>song</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create and store a small song. </p>
<p>Writes and stores a small song into the Create's internal memory. You can store up to 16 songs, each with up to 16 notes each. Each note is associated with a sound from the robot's internal MIDI sequencer, with 31 being the lowest note and 127 being the highest. Anything outside that range is considered to be silence. See the iRobot OI Specification for more info.</p>
<p>The first argument is the song number (0-15). The second argument is the number of notes in the song (1-16). The third argument is an array of bytes. The even entries (0, 2, 4, etc.) are the notes to play and the odd entries (1, 3, 5. etc.) are the durations of those notes, in increments of 1/64th of a second (so a value of 32 would play the note for half a second). The size of this array should be equal to twice the second argument.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">number</td><td>The song number being stored (0-15) </td></tr>
    <tr><td class="paramname">length</td><td>The number of notes in the song (1-16) </td></tr>
    <tr><td class="paramname">song</td><td>An array containing notes and durations of those notes. Size = 2 * length</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if successful or -1 otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 28 2013 16:21:33 for Navigation by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
